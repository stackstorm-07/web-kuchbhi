<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Learn Like Pro | AI Study Buddy</title>
<link rel="stylesheet" href="style.css">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600&display=swap" rel="stylesheet">
<style>
/* ---------- GENERAL ---------- */
* { margin:0; padding:0; box-sizing:border-box; font-family:'Poppins', sans-serif; }
body { background:#f4f7fd; }
.navbar { display:flex; justify-content:space-between; align-items:center; padding:18px 60px; background:#fff; box-shadow:0 2px 8px rgba(0,0,0,0.05); position:sticky; top:0; z-index:1000; }
.navbar a { margin:0 12px; color:#333; text-decoration:none; font-weight:500; }
.navbar .logo { font-size:22px; font-weight:600; color:#2cc5e8; display:flex; align-items:center; }
.navbar .logo i { margin-right:8px; }
.nav-btn { padding:8px 18px; border:none; border-radius:20px; background:linear-gradient(135deg,#2cc5e8,#4facfe); color:#fff; cursor:pointer; font-weight:500; }

/* ---------- HERO ---------- */
.hero-ui { display:flex; justify-content:center; align-items:center; padding:80px 20px; background:linear-gradient(135deg,#e0f7ff,#f4f7fd); }
.glass-card { background:rgba(255,255,255,0.9); padding:40px; border-radius:20px; max-width:600px; width:100%; text-align:center; box-shadow:0 10px 25px rgba(0,0,0,0.08); }
.glass-card h1 { font-size:32px; margin-bottom:12px; }
.glass-card h1 span { color:#2cc5e8; }
.glass-card p { font-size:16px; margin-bottom:20px; color:#555; }
.search-box { display:flex; align-items:center; background:#fff; padding:10px 15px; border-radius:12px; box-shadow:0 4px 15px rgba(0,0,0,0.05); }
.search-box i { margin-right:10px; color:#2cc5e8; }
.search-box input { border:none; outline:none; flex:1; font-size:14px; }

/* ---------- OUTPUT MODULE ---------- */
.output { display:none; margin:20px auto; padding:25px; max-width:700px; background:#fff; border-radius:16px; box-shadow:0 8px 25px rgba(0,0,0,0.1); }
.output h2 { color:#2cc5e8; margin-bottom:12px; }
#explanation { margin-bottom:12px; line-height:1.6; }
#googleLink, #youtubeLink a { display:block; margin:6px 0; color:#2cc5e8; text-decoration:none; }
#questions { margin-top:12px; }

/* ---------- PROGRESS ---------- */
#progressList { max-width:700px; margin:20px auto; }
.progress-item { background:#fff; padding:12px; margin-bottom:8px; border-radius:10px; box-shadow:0 2px 5px rgba(0,0,0,0.08); display:flex; justify-content:space-between; font-size:14px; }

/* ---------- LOGIN MODAL ---------- */
.modal { display:none; position:fixed; inset:0; background:rgba(0,0,0,0.6); justify-content:center; align-items:center; z-index:3000; }
.modal-box { background:#fff; padding:35px; border-radius:20px; width:360px; text-align:center; animation:pop 0.4s ease; }
.modal-box input { width:100%; padding:12px; margin:8px 0; border-radius:8px; border:1px solid #ccc; }
.modal-box button { width:100%; padding:12px; margin-top:12px; border:none; border-radius:30px; background:linear-gradient(135deg,#2cc5e8,#4facfe); color:white; cursor:pointer; }
.close-btn { float:right; font-size:22px; cursor:pointer; }
@keyframes pop { from { transform:scale(0.9); opacity:0; } to { transform:scale(1); opacity:1; } }

/* ---------- USER INFO ---------- */
#userBox { display:none; position:absolute; right:40px; top:70px; background:#fff; border:1px solid #ccc; padding:15px; width:240px; z-index:999; border-radius:12px; box-shadow:0 5px 15px rgba(0,0,0,0.2); }
#userBox p { margin:6px 0; font-size:14px; }
#userBox button { width:100%; padding:8px; background:#db4437; color:#fff; border:none; border-radius:6px; cursor:pointer; }

/* ---------- TEST MODAL ---------- */
#testModal .modal-box { max-height:80vh; overflow-y:auto; }
.test-question { margin-bottom:12px; }
.test-question label { display:block; margin:4px 0; }
.primary-btn { padding:10px 20px; border:none; border-radius:25px; background:linear-gradient(135deg,#2cc5e8,#4facfe); color:#fff; cursor:pointer; margin-top:12px; }
.test-result { margin-top:12px; font-weight:600; color:#2cc5e8; text-align:center; }

/* ---------- FOOTER ---------- */
.footer { text-align:center; padding:20px 0; margin-top:40px; color:#888; font-size:14px; }
</style>
</head>
<body>

<!-- NAVBAR -->
<header class="navbar">
  <div class="logo"><i class="fa-solid fa-brain"></i> LearnLikePro</div>
  <nav>
    <a href="#">Home</a>
    <a href="#">Explore</a>
    <a href="#">Tests</a>
    <a href="#">Progress</a>
  </nav>
  <button class="nav-btn" onclick="openLogin()" id="loginBtn">Login</button>
  <button class="nav-btn" id="userGreeting" style="display:none;" onclick="toggleUserBox()"></button>
</header>

<!-- USER DETAILS BOX -->
<div id="userBox">
  <p><b>Name:</b> <span id="uName"></span></p>
  <p><b>Email:</b> <span id="uEmail"></span></p>
  <p><b>Phone:</b> <span id="uPhone"></span></p>
  <hr>
  <button onclick="logout()">Logout</button>
</div>

<!-- HERO -->
<section class="hero-ui">
  <div class="glass-card">
    <h1>Study Smarter.<br><span>Not Harder.</span></h1>
    <p>Your AI-powered study buddy for exams, concepts & practice.</p>
    <div class="search-box">
      <i class="fa-solid fa-magnifying-glass"></i>
      <input placeholder="Type any topic like 'Python Loops'" id="topicInput">
    </div>
  </div>
</section>

<!-- OUTPUT AI STUDY MODULE -->
<div class="output">
  <h2 id="topicTitle"></h2>
  <p id="explanation"></p>
  <a id="googleLink" target="_blank"></a>
  <div id="youtubeLink"></div>
  <ul id="questions"></ul>
  <button class="primary-btn" onclick="startTest()">Take Test</button>
</div>

<!-- PROGRESS LIST -->
<div id="progressList"></div>

<!-- LOGIN MODAL -->
<div class="modal" id="loginModal">
  <div class="modal-box">
    <span class="close-btn" onclick="closeLogin()">&times;</span>
    <div id="step1">
      <h2>Welcome ðŸ‘‹</h2>
      <p>Login to continue</p>
      <input id="name" placeholder="Full Name">
      <input id="email" placeholder="Email Address">
      <input id="phone" placeholder="Phone Number">
      <button onclick="sendOTP()">Send OTP</button>
    </div>
    <div id="step2" style="display:none;">
      <h2>Verify OTP</h2>
      <p>Enter the 6-digit OTP</p>
      <input id="otp" placeholder="Enter OTP">
      <button onclick="verifyOTP()">Verify & Login</button>
    </div>
  </div>
</div>

<!-- TEST MODAL -->
<div class="modal" id="testModal">
  <div class="modal-box">
    <span class="close-btn" onclick="closeTest()">&times;</span>
    <h2>Quiz: <span id="testTopic"></span></h2>
    <div id="testQuestions"></div>
    <button class="primary-btn" onclick="submitTest()">Submit Test</button>
    <p class="test-result" id="testResult"></p>
  </div>
</div>

<!-- FOOTER -->
<footer class="footer">Â© 2025 Learn Like Pro â€¢ AI Exam Assistant</footer>

<script>
// ---------- LOGIN & USER ----------
let generatedOTP = "";

function openLogin() { document.getElementById('loginModal').style.display = 'flex'; }
function closeLogin() {
  document.getElementById('loginModal').style.display = 'none';
  document.getElementById('step1').style.display = 'block';
  document.getElementById('step2').style.display = 'none';
}

function sendOTP() {
  const name = document.getElementById('name').value.trim();
  const email = document.getElementById('email').value.trim();
  const phone = document.getElementById('phone').value.trim();
  if(!name || !email || !phone) { alert("Please fill all details"); return; }
  generatedOTP = Math.floor(100000 + Math.random() * 900000).toString();
  alert("Demo OTP: " + generatedOTP);
  localStorage.setItem("user", JSON.stringify({ name, email, phone }));
  document.getElementById('step1').style.display = 'none';
  document.getElementById('step2').style.display = 'block';
}

function verifyOTP() {
  const otp = document.getElementById('otp').value.trim();
  if(otp === generatedOTP) {
    const user = JSON.parse(localStorage.getItem("user"));
    document.getElementById('loginBtn').style.display = 'none';
    const greeting = document.getElementById('userGreeting');
    greeting.style.display = 'inline-block';
    greeting.innerText = `Hi, ${user.name} ðŸ‘‹`;
    document.getElementById('uName').innerText = user.name;
    document.getElementById('uEmail').innerText = user.email;
    document.getElementById('uPhone').innerText = user.phone;
    closeLogin();
  } else alert("Invalid OTP. Try again.");
}

function toggleUserBox() {
  const box = document.getElementById('userBox');
  box.style.display = box.style.display === 'block' ? 'none' : 'block';
}

function logout() {
  localStorage.removeItem("user");
  document.getElementById('userGreeting').style.display = 'none';
  document.getElementById('loginBtn').style.display = 'inline-block';
  document.getElementById('userBox').style.display = 'none';
}

function showUser() {
  const user = JSON.parse(localStorage.getItem("user"));
  if(!user) return;
  document.getElementById('loginBtn').style.display = 'none';
  const greeting = document.getElementById('userGreeting');
  greeting.style.display = 'inline-block';
  greeting.innerText = `Hi, ${user.name} ðŸ‘‹`;
  document.getElementById('uName').innerText = user.name;
  document.getElementById('uEmail').innerText = user.email;
  document.getElementById('uPhone').innerText = user.phone;
}

window.onload = showUser;

// ---------- AI STUDY MODULE ----------
const $ = id => document.getElementById(id);
const $$ = cls => document.querySelector(cls);
let studyHistory = JSON.parse(localStorage.getItem("studyHistory")) || [];

async function fetchAIExplanation(topic) {
  try {
    const response = await fetch("https://api.openai.com/v1/chat/completions", {
      method:"POST",
      headers:{ "Content-Type":"application/json", "Authorization":"Bearer YOUR_OPENAI_API_KEY" },
      body: JSON.stringify({ model:"gpt-4", messages:[{ role:"user", content:`Explain "${topic}" clearly for fast exam revision with key points.` }], temperature:0.5, max_tokens:400 })
    });
    const data = await response.json();
    return data.choices[0].message.content;
  } catch(err) {
    console.error(err);
    return `${topic} is explained in a simplified way for revision.`;
  }
}

async function fetchYoutubeLinks(topic) {
  const API_KEY = "YOUR_YOUTUBE_API_KEY";
  const url = `https://www.googleapis.com/youtube/v3/search?part=snippet&type=video&maxResults=3&q=${encodeURIComponent(topic)}&key=${API_KEY}`;
  try {
    const res = await fetch(url);
    const data = await res.json();
    return data.items.map(item => `https://www.youtube.com/watch?v=${item.id.videoId}`);
  } catch(err) {
    console.error(err);
    return [`https://www.youtube.com/results?search_query=${encodeURIComponent(topic)}`];
  }
}

async function generateStudy() {
  const topic = $("topicInput").value.trim();
  if(!topic) { alert("Please enter a topic"); return; }

  const output = $$(".output");
  output.style.display="block";
  $("topicTitle").innerText = topic;
  $("explanation").innerText = "Loading explanation...";
  const explanation = await fetchAIExplanation(topic);
  $("explanation").innerText = explanation;

  const googleLink = $("googleLink");
  googleLink.href = `https://www.google.com/search?q=${encodeURIComponent(topic)}`;
  googleLink.innerText = `ðŸ”Ž Search "${topic}" on Google`;
  googleLink.target = "_blank";

  const youtubeLinksContainer = $("youtubeLink");
  youtubeLinksContainer.innerHTML = "Loading YouTube links...";
  const youtubeLinks = await fetchYoutubeLinks(topic);
  youtubeLinksContainer.innerHTML = "";
  youtubeLinks.forEach((link, idx) => {
    youtubeLinksContainer.innerHTML += `<a href="${link}" target="_blank">â–¶ YouTube Video ${idx+1}</a><br>`;
  });

  const questions = [
    `What is ${topic}?`,
    `Why is ${topic} important for exams?`,
    `Mention one real-life application of ${topic}`,
    `Give an example to illustrate ${topic}.`,
    `List the key points to remember about ${topic}.`
  ];
  const list = $("questions");
  list.innerHTML="";
  questions.forEach(q => list.innerHTML += `<li>${q}</li>`);

  saveProgress(topic);
  $("topicInput").value="";
}

function saveProgress(topic) {
  studyHistory.push({ topic, time:new Date().toISOString(), status:"learning" });
  localStorage.setItem("studyHistory", JSON.stringify(studyHistory));
  updateProgressUI();
}

function updateProgressUI() {
  const container = $("progressList");
  container.innerHTML="";
  studyHistory.slice().reverse().forEach(p => {
    container.innerHTML += `<div class="progress-item"><strong>${p.topic}</strong><span>${new Date(p.time).toLocaleString()}</span></div>`;
  });
}

$("topicInput").addEventListener("keydown", e => { if(e.key==="Enter") generateStudy(); });
updateProgressUI();

// ---------- TEST MODULE ----------
let currentTest = [];

function startTest() {
  const topic = $("topicTitle").innerText;
  if(!topic){ alert("Generate topic first"); return; }

  $("testTopic").innerText = topic;
  $("testQuestions").innerHTML = "";
  $("testResult").innerText = "";
  currentTest = [];

  for(let i=1;i<=10;i++){
    const q = `Sample question ${i} about ${topic}?`;
    const options = ["A","B","C","D"];
    const answer = options[Math.floor(Math.random()*4)];
    currentTest.push({q, options, answer});

    let html = `<div class="test-question"><p>${q}</p>`;
    options.forEach(opt => { html += `<label><input type="radio" name="q${i}" value="${opt}"> ${opt}</label>`; });
    html += `</div>`;
    $("testQuestions").innerHTML += html;
  }

  $("testModal").style.display = "flex";
}

function closeTest(){ $("testModal").style.display="none"; }

function submitTest(){
  let score = 0;
  currentTest.forEach((t,i)=>{
    const selected = document.querySelector(`input[name="q${i+1}"]:checked`);
    if(selected && selected.value === t.answer) score++;
  });
  $("testResult").innerText = `Your Score: ${score} / ${currentTest.length}`;
}
</script>

</body>
</html>
